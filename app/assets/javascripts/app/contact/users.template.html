<!--<script src="app/contcontacts.jst.js"></script>-->
<div>
	<style>
		.pagination {
			position: absolute;
		}
		.select2-container--bootstrap .select2-selection--single {
			height: 40px !important;
			/*width: 200px !important;*/
			font-size: 16px !important;
		}
		.select2 {
			font-family: FontAwesome;
		}
		.select2-search__field{
			font-family: FontAwesome;
		}
	</style>
	<div ng-controller="NewUserController">
		<div class="form-group">
			<div class="col-sm-9">
				<select id="user_search1" class="form-control select2" multiple ng-model="user_search">
				</select>
			</div>
			<div class="col-sm-3">
				<button class='btn btn-primary pull-right' ng-click="show_update_hash()">New contact</button>
			</div>
		</div>
	</div>
	
	<table class="table table-striped table-hover table-condensed ">
		<thead>
		<tr>
			<th>#</th>
			<th>Image</th>
			<th>
				<sorting colname="'Name'" sortbyname="'sortbyfirstname'"></sorting>
			</th>
			<th>
				<sorting colname="'Email'" sortbyname="'sortbyemail'"></sorting>
			</th>
			<th>Type</th>
			<th><sorting colname="'Created at'" sortbyname="'sortbycreated_at'"></th>
			<th>Last login</th>
		</tr>
		</thead>
		<tbody ng-controller="UserController">
		
		<tr ng-repeat="c in contacts">
			<th scope="row" ng-if="c.group!='o'"><a href="#" ng-click="show_update_hash(c.id)">{{c.id}}</a></th>
			<th scope="row" ng-if="c.group=='o'">{{c.id}}</th>
			<td>
				<vcard type='profile' src='c'></vcard>
			</td>
			<td>{{c.firstname +' '+c.lastname}}</td>
			<td>{{c.email}}</td>
			<td><a class="btn btn-default btn-lg btn-circle" disabled
				   style="cursor: default;background-color: #e8eaf6">
				<b style="font-size: 16px"
				   ng-style="{'color':c.group=='o' ? '#d9534f' :(c.group=='e'?'#ffbb33' :'#5cb85c')}">{{c.group}}</b></a>
			</td>
			<td>{{from_now(c.created_at)}}</td>
			<td>{{from_now(c.login_at)}}</td>
		</tr>
		</tbody>
	</table>
	<paging list="contacts" listname="users" refresh="refresh_list" url="/user/user_list"></paging>
</div>